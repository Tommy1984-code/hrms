<div style="width: 100%; margin-bottom: 24px; display: flex; justify-content: space-between; align-items: flex-start;">
    <!-- Logo aligned to the left -->
    <div style="width: 150px; display: flex; justify-content: flex-start;">
      <img src="/private/files/asku-logo.png" alt="Logo" style="max-height: 60px;">
    </div>
    
    <!-- Title and Company Name centered, with large font for company name -->
    <div style="flex: 1; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center; margin-left: 20px;">
      <h2 style="margin: 0; font-size: 28px; font-weight: semi-bold;">{{ filters.company }}</h2> <!-- Larger font size for company name -->
      <h3 style="margin: 4px 0; font-size: 24px;">Pension Contribution </h3> <!-- Title with smaller font -->
    </div>
  </div>
  
  <!-- Date for the month of the filter, placed outside but centered -->
  <div style="text-align: center; margin-top: 10px; font-size: 16px;">
    {% 
      let date = new Date(filters.from_date);
      let month = date.toLocaleString('default', { month: 'long' });
      let year = date.getFullYear();
    %}
    For the month of {{ month }} {{ year }}
  </div>
  
  
  
  

<style>
    .main-table {
        width: 100%;
        border-collapse: collapse;
    }
    .main-table th, .main-table td {
        padding: 8px;
        text-align: center;
        border: 1px solid #ccc;
    }
    .main-table th {
        background-color: #f2f2f2;
    }
    .main-table td {
        background-color: #fff;
    }
    .main-table td[colspan="2"], .main-table th[colspan="2"] {
        text-align: left;
    }
</style>

<div>
  {% let current_department = ""; %}
  {% for (let i = 0; i < data.length; i++) { %}
    {% let row = data[i]; %}
    
    {% if (row.employee_name && row.employee_name.startsWith("â–¶")) { %}
      {% if (i !== 0) { %}
          </tbody>
        </table>
      {% } %}

      <h3 style="margin-top: 24px;">{{ row.employee_name.slice(2).trim() }}</h3>

      <table class="main-table">
        <thead>
          <tr>
            {% for (let col of columns) { %}
              {% if (col.fieldname !== "department") { %}
                <th>{{ col.label }}</th>
              {% } %}
            {% } %}
          </tr>
        </thead>
        <tbody>
    {% } else { %}
      <tr>
        {% for (let col of columns) { %}
          {% if (col.fieldname !== "department") { %}
          <td>
            {% if (typeof row[col.fieldname] === "number") { %}
              {{ row[col.fieldname].toFixed(2) }}
            {% } else { %}
              {{ row[col.fieldname] || "" }}
            {% } %}
          </td>
          {% } %}
        {% } %}
      </tr>
    {% } %}

    {% if (i === data.length - 1) { %}
        </tbody>
      </table>
    {% } %}
  {% } %}
</div>
